<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.lianchuangjie.lianchuangjie.mapper.VatCurConfMapper">

    <select id="selectList" resultType="com.lianchuangjie.lianchuangjie.vo.VatCurConfVO">
        SELECT
            T_VCCG.*,
            T_OVTG.Rate AS 'VatRate',
            T_OVTG.Type,
            (T_VCCG.Currency + '+' + T_VCCG.VatGroup + '+' + LTRIM(RTRIM(CONVERT(VARCHAR, CAST(T_OVTG.Rate AS FLOAT))))) AS 'Value',
            (T_VCCG.Currency + N'（' + LTRIM(RTRIM(CONVERT(VARCHAR, CAST(T_OVTG.Rate AS FLOAT)))) + N'%）') AS 'Label'
        FROM T_VCCG
        LEFT JOIN T_OVTG ON T_OVTG.Code = T_VCCG.VatGroup
        <where>
            ${ew.getSqlSegment()}
        </where>
    </select>
    <select id="selectOne" resultType="com.lianchuangjie.lianchuangjie.vo.VatCurConfVO">
        SELECT
            T_VCCG.*,
            T_OVTG.Rate AS 'VatRate',
            T_OVTG.Type, (T_VCCG.Currency + '+' + T_VCCG.VatGroup + '+' + LTRIM(RTRIM(CONVERT(VARCHAR, CAST(T_OVTG.Rate AS FLOAT))))) AS 'Value',
            (T_VCCG.Currency + N'（' + LTRIM(RTRIM(CONVERT(VARCHAR, CAST(T_OVTG.Rate AS FLOAT)))) + N'%）') AS 'Label'
        FROM T_VCCG
        LEFT JOIN T_OVTG ON T_OVTG.Code = T_VCCG.VatGroup
        <where>
            ${ew.getSqlSegment()}
        </where>
    </select>
</mapper>
